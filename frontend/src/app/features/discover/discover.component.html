<div class="discover-container">
  <!-- Header -->
  <div class="discover-header">
    <h1>{{ domainConfig.domainLabel }}</h1>
    <p class="isolation-notice">ISOLATION MODE: Testing QueryControl only</p>
  </div>

  <hr/>

  <!-- Query Control Panel (ISOLATED FOR TESTING) -->
  <div class="panel-wrapper">
    <div class="panel-header">
      <div class="panel-title-group">
        <h3 class="panel-title">Query Control</h3>
      </div>
      <div class="panel-actions">
        <button
          *ngIf="!isPanelPoppedOut('query-control')"
          pButton
          type="button"
          icon="pi pi-external-link"
          class="p-button-sm p-button-text p-button-rounded"
          (click)="popOutPanel('query-control', 'query-control')"
          pTooltip="Pop out to separate window"
          tooltipPosition="left">
        </button>
      </div>
    </div>

    <!-- Panel Content -->
    <div *ngIf="!isPanelPoppedOut('query-control'); else queryControlPlaceholder">
      <app-query-control
        [domainConfig]="domainConfig"
        (urlParamsChange)="onUrlParamsChange($event)">
      </app-query-control>
    </div>
    <ng-template #queryControlPlaceholder>
      <div class="popout-placeholder">
        <i class="pi pi-external-link"></i>
        <span>Query Control is open in a separate window</span>
      </div>
    </ng-template>
  </div>

  <hr/>

  <!-- DEBUG: Current URL State -->
  <div class="debug-panel">
    <h4>Debug: URL State</h4>
    <pre>{{ debugUrlState }}</pre>
  </div>

  <!--
    REMOVED FOR ISOLATION TESTING:
    - manufacturer-model-picker
    - statistics-panel
    - results-table

    Will re-add one at a time after QueryControl is verified working.
  -->
</div>
